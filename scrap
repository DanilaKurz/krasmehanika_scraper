import pandas as pd
import requests
from bs4 import BeautifulSoup
import json

url = 'https://krasmehanika.ru/catalog/'
response = requests.get(url)
soup = BeautifulSoup(response.text, 'lxml')

main_links = soup.find_all('li', class_='name')

categories_dict = {}
for item in main_links:
    item_text = item.text.replace('\n', '')
    item_href = 'https://krasmehanika.ru' + item.find('a').get('href')
    print(f'{item_text}: {item_href}')

    categories_dict[item_text] = item_href


# with open('names_and_links.json', 'w') as file_links:
#     json.dump(categories_dict, file_links, indent=4, ensure_ascii=False)

# with open('names_and_links.json') as file_links:
#     all_categories = json.load(file_links)
#
# print(all_categories)
